<% layout("/layouts/boilerplate") -%>
<body>
  <!-- Include Navbar -->


  <!-- Subject Sidebar (Below Navbar) -->
  <nav class="subject-sidebar">
    <div class="subject-scroll">

      <a href="/views/documents/Networking/pp/networking.ejs" class="subject-item no-dynamic">Networking</a>
      <a href="/views/documents/Os/pp/os.ejs" class="subject-item no-dynamic">Os</a>
      <a href="/views/documents/Dbms/pp/db.ejs" class="subject-item no-dynamic">Dbms</a>
      <a href="#" class="subject-item">English</a>
      <a href="#" class="subject-item">History</a>
      <a href="#" class="subject-item">Geography</a>
      <a href="#" class="subject-item">Physics</a>
      <a href="#" class="subject-item">Chemistry</a>
      <a href="#" class="subject-item">Biology</a>
      <a href="#" class="subject-item">Math</a>
      <a href="#" class="subject-item">Science</a>
      <a href="#" class="subject-item">Chemistry</a>
      <a href="#" class="subject-item">Biology</a>
      <a href="#" class="subject-item">Math</a>
      <a href="#" class="subject-item">Science</a>
      <!-- Add more items as needed -->
    </div>
  </nav>

  <main class="content-container">
    <!-- Left Sidebar -->
    <aside class="sidebar">
      <h2>Topics</h2>
      <ul class="sidebar-menu">
        <a href="/documents/Os/pages/page1" class="subject-item" data-page="/documents/Os/pages/page1">Topic 1 Os</a>

        <a href="/documents/Os/pages/page2.ejs" class="subject-item" data-page="/documents/Os/pages/page2.ejs">Topic 2 Os</a>
        <a href="/documents/Os/pages/page3.ejs" class="subject-item" data-page="/documents/Os/pages/page3.ejs">Topic 3 Os</a>
      <a href="/documents/Os/pages/page4.ejs" class="subject-item" data-page="/documents/Os/pages/page4.ejs">Topic 4 Os</a>

    
      </ul>
    </aside>

    <!-- Main Content -->
    <section id="main-content" class="main-content">
      <h1>Welcome</h1>
      <p>Select a subject or topic from the sidebars to view its content.</p>
    </section>

     <!-- Right Sidebar (Ads or Additional Info) -->
     <aside class="ads">
      <div class="ad-banner">Your Ad Here</div>
    </aside>
  </main>

  <!-- JavaScript for Dynamic Content Loading -->
  <script>
   document.addEventListener("DOMContentLoaded", () => {
  const mainContent = document.getElementById("main-content");
  const sidebarLinks = document.querySelectorAll(".sidebar-menu a");

  sidebarLinks.forEach((link) => {
    link.addEventListener("click", (event) => {
      event.preventDefault(); // Prevent default navigation
      const pageUrl = link.getAttribute("data-page");
      loadPage(pageUrl);
    });
  });


function loadPage(pageUrl) {
  fetch(pageUrl)
    .then((response) => {
      if (!response.ok) throw new Error("Failed to load page content");
      return response.text();
    })
    .then((html) => {
      // Replace the content of #main-content
      mainContent.innerHTML = html;

      // Optionally update browser history
      history.pushState(null, "", pageUrl);
    })
    .catch((err) => {
      console.error(err);
      mainContent.innerHTML = "<p>Error loading content. Please try again.</p>";
    });
}

// Example usage: load page dynamically when a button or link is clicked
document.querySelectorAll(".dynamic-link").forEach((link) => {
  link.addEventListener("click", (e) => {
    e.preventDefault(); // Prevent default navigation
    const pageUrl = e.target.getAttribute("href");
    loadPage(pageUrl);
  });
});

  // Optionally handle "back" and "forward" browser navigation
  window.addEventListener("popstate", () => {
    loadPage(window.location.pathname);
  });
});

  </script>
</body>

